# Generated by the protocol buffer compiler.  DO NOT EDIT!
# sources: tendermint/rpc/grpc/types.proto
# plugin: python-betterproto
from dataclasses import dataclass

import betterproto
import grpclib

from .tendermint import abci


@dataclass
class RequestPing(betterproto.Message):
    pass


@dataclass
class RequestBroadcastTx(betterproto.Message):
    tx: bytes = betterproto.bytes_field(1)


@dataclass
class ResponsePing(betterproto.Message):
    pass


@dataclass
class ResponseBroadcastTx(betterproto.Message):
    check_tx: abci.ResponseCheckTx = betterproto.message_field(1)
    tx_result: abci.ExecTxResult = betterproto.message_field(2)


class BroadcastAPIStub(betterproto.ServiceStub):
    """
    BroadcastAPI Deprecated: This API will be superseded by a more
    comprehensive gRPC-based broadcast API, and is scheduled for removal after
    v0.38.
    """

    async def ping(self) -> ResponsePing:
        request = RequestPing()

        return await self._unary_unary(
            "/tendermint.rpc.grpc.BroadcastAPI/Ping",
            request,
            ResponsePing,
        )

    async def broadcast_tx(self, *, tx: bytes = b"") -> ResponseBroadcastTx:
        request = RequestBroadcastTx()
        request.tx = tx

        return await self._unary_unary(
            "/tendermint.rpc.grpc.BroadcastAPI/BroadcastTx",
            request,
            ResponseBroadcastTx,
        )
